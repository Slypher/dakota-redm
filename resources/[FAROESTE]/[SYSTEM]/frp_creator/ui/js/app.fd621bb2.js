(function(e){function t(t){for(var s,i,r=t[0],u=t[1],c=t[2],l=0,p=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},o=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4ec1":function(e,t,n){"use strict";n("cb52")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("CharacterCreation",{attrs:{name:"CharacterCreation"}})],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"view view--char_creation"},[n("div",{staticClass:"wrapper",attrs:{id:"char_creation"}},[n("div",{staticClass:"char_creation_container"},[n("div",{staticClass:"char_creation_header"},[n("span",{staticClass:"title"},[e._v(" "+e._s(e.gMenuSelected[e.focusedMenuIndex].title)+" ")]),n("span",{staticClass:"subtitle"},[e._v(" "+e._s(e.gMenuSelected[e.focusedMenuIndex].subTitle)+" ")])]),n("div",{staticClass:"char_creation_content"},[n("div",{ref:"scrollDiv",staticClass:"body_char_creation"},[n("div",{class:e.gMenuSelected[e.focusedMenuIndex].title},[n("ul",e._l(e.gMenuSelected[e.focusedMenuIndex].inputs,(function(t,s){return n("li",{key:t,class:{focus:s===e.focusedInputIndex},attrs:{id:"list"},on:{mouseover:function(t){return e.onHoverInput(s)}}},["number"===t.type?n("div",{staticClass:"panel-col",class:{disabled:!0===t.disabled}},[n("div",{staticClass:"qtd"},[n("span",{staticClass:"grey-text title"},[e._v(e._s(t.name)+" ")])]),n("div",{staticClass:"buttons-item"},[n("button",{staticClass:"button-left col s4 waves-effect waves-light btn",on:{click:function(t){return e.clickButtonLeft()}}},[n("i")]),n("span",{staticClass:"input-number col s4"},[e._v(" "+e._s(t.value))]),n("button",{staticClass:"button-right col s4 waves-effect waves-light btn",on:{click:function(t){return e.clickButtonRight()}}},[n("i")])])]):e._e(),"text"===t.type?n("div",{staticClass:"input",class:{disabled:!0===t.disabled},on:{click:function(t){return e.onPressedEnter(s)}}},[n("input",{staticClass:"input-text",attrs:{id:[[t.id]],type:[[t.type]],min:[[t.minValue]],max:[[t.maxValue]],placeholder:[[t.name]]},domProps:{value:[[t.value]]},on:{change:e.changeoptions}})]):e._e(),"button"===t.type?n("div",{staticClass:"input",class:{disabled:!0===t.disabled},on:{click:function(t){return e.onPressedEnter(s)}}},[n("button",{staticClass:"button"},[n("span",[e._v(e._s(t.name))])]),e._m(0,!0)]):e._e()])})),0)])]),n("span",{staticClass:"line-divider-horizontal"},[e._v(e._s(e.subTitleInputSelected))])])])])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-enter"},[n("i")])}],u=(n("4917"),n("96cf"),n("1da1")),c=(n("7f7f"),n("3835")),d=(n("ac6a"),n("ffc1"),{send:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,fetch("".concat(t),{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),emulate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.dispatchEvent(new MessageEvent("message",{data:{type:e,data:t}}))}}),l={name:"CharacterCreation",data:function(){return{isVisible:!1,titleMenu:"Criação de Personagem",maxCharacters:2,gMenuSelected:"mainMenu",isMale:!1,characterName:null,ComponentsSaved:{SkinModel:1,SkinToneVariation:1,Head:1,Hair:0,HairColor:1,Mustache:0,MustacheColor:0,Overlay:{},pedScaleSize:180},focusedMenuIndex:0,focusedInputIndex:0,subTitleInputSelected:"Escreva o nome do seu Personagem aqui.",errors:{charName:[],date:[]},Clicked:0,mouseX:.5,mouseY:.5}},mounted:function(){var e=this;window.addEventListener("keydown",this.selectMenu),this.listener=window.addEventListener("message",(function(t){var n=t.data;switch(n.type){case"open":e.isVisible=n.isVisible,e.isMale=n.isMale;break;case"close":e.isVisible=n.isVisible;break;case"receivedata":for(var s=0,a=Object.entries(n.uiMenuData);s<a.length;s++){var o=Object(c["a"])(a[s],2),i=o[0],r=o[1];e[i]=null,e[i]=r}var u="mainMenu";e.gMenuSelected=e[u];break;case"ReceiveProfileName":e.isVisible=n.isVisible;var d=e.gMenuSelected[0].inputs;d[0].name=n.profileName,e.characterName=n.profileName,d[1].disabled=!1,d[2].disabled=!1,d[3].disabled=!1,d[4].disabled=!1;break}}),!1),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("wheel",this.onWheel)},methods:{onMouseMove:function(e){this.mouseX=e.pageX,this.mouseY=e.pageY},onMouseDown:function(e){switch(e.which){case 1:d.send("http://frp_creator/mouseLeftClick",JSON.stringify({screenW:window.screen.availWidth,screenH:window.screen.availHeight,mouseX:this.mouseX,mouseY:this.mouseY}));break}},onWheel:function(e){0!==e.deltaY&&(e.deltaY<=0?this.postMouseWheelMovement(!0):this.postMouseWheelMovement(!1))},postMouseWheelMovement:function(e){d.send("http://frp_creator/mouseWheelMovement",JSON.stringify({isUp:e}))},selectMenu:function(e){switch(e.keyCode){case 39:this.clickButtonRight();break;case 37:this.clickButtonLeft();break;case 38:var t=this.gMenuSelected[this.focusedMenuIndex].inputs;if("Nome Completo"===t[0].name)return;null===this.focusedInputIndex?this.focusedInputIndex=0:this.focusedInputIndex>0&&this.focusedInputIndex--,this.focusedInputIndex>=5&&(this.$refs.scrollDiv.scrollTop-=55),this.subTitleInputSelected=t[this.focusedInputIndex].subTitle;break;case 40:var n=this.gMenuSelected[this.focusedMenuIndex].inputs;if("Nome Completo"===n[0].name)return;null===this.focusedInputIndex?this.focusedInputIndex=0:this.focusedInputIndex<n.length-1&&this.focusedInputIndex++,this.focusedInputIndex>=5&&(this.$refs.scrollDiv.scrollTop+=55),this.subTitleInputSelected=n[this.focusedInputIndex].subTitle;break;case 13:this.onPressedEnter();break;case 8:this.onPressedBack();break;case 27:this.onPressedBack();break;case 65:this.onPressedPedRotationControl(!1);break;case 68:this.onPressedPedRotationControl(!0);break}},onPressedPedRotationControl:function(e){d.send("https://frp_creator/state:Customization:rotateCurrentPed",{rotateRight:e})},onPressedEnter:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[this.focusedInputIndex];if(this.characterName||"name"==t.sendTo){switch(t.sendTo){case"name":d.send("https://frp_creator/state:Customization:requestTypeProfileName");break;case"creatorMenu":var n="creatorMenu";this.gMenuSelected=this[n];break;case"clothesMenu":var s="clothesMenu";this.gMenuSelected=this[s];break;case"confirm":this.ButtonDone();break}t.focusedMenuIndex&&(this.focusedMenuIndex=t.focusedMenuIndex,this.focusedInputIndex=0)}},onPressedBack:function(){var e=this.gMenuSelected[this.focusedMenuIndex];if(e.return>=0)return this.focusedMenuIndex=e.return,void(this.focusedInputIndex=0);if(e.menuReturn){var t=e.menuReturn;this.gMenuSelected=this[t]}},clickButtonLeft:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[this.focusedInputIndex],n=t.id,s=t.hashFeacture||0,a=t.steps,o=0,i=0;if(t.value<=t.minValue&&(t.value=t.maxValue+a),.1!=a?t.value-=1:(t.value=parseFloat(t.value)-.1,t.value=t.value.toFixed(1),1==t.value?t.value=1.01:-1==t.value&&(t.value=-1.01)),o=t.value,t.typeOfOverlay){var r=t.typeOfOverlay;this.updateOverlayToPed(n,o,i,r)}else this.updateComponentToPed(n,o,i,s)},clickButtonRight:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[this.focusedInputIndex],n=t.id,s=t.hashFeacture||0,a=t.steps,o=0,i=0;if(t.value>=t.maxValue&&(t.value=t.minValue-a),.1!=a?t.value+=1:(t.value=parseFloat(t.value)+.1,t.value=t.value.toFixed(1),1==t.value?t.value=1.01:-1==t.value&&(t.value=-1.01)),o=t.value,t.typeOfOverlay){var r=t.typeOfOverlay;this.updateOverlayToPed(n,o,i,r)}else this.updateComponentToPed(n,o,i,s)},updateOverlayToPed:function(e,t,n,s){var a=this.ComponentsSaved.Overlay[e];switch(a||"heads"==e||(this.ComponentsSaved.Overlay[e]={model:0,color:0,opacity:1}),s){case"model":this.ComponentsSaved.Overlay[e].model=t;break;case"color":this.ComponentsSaved.Overlay[e].color=t;break;case"opacity":this.ComponentsSaved.Overlay[e].opacity=t;break}"heads"!=e?d.send("https://frp_creator/state:Customization:OverlayType",{compType:e,offsetModel:this.ComponentsSaved.Overlay[e].model,offsetVariation:this.ComponentsSaved.Overlay[e].color,opacity:this.ComponentsSaved.Overlay[e].opacity,skinTone:this.ComponentsSaved.SkinToneVariation}):d.send("https://frp_creator/state:Customization:OverlayType",{compType:e,offsetModel:0,offsetVariation:0,opacity:0,skinTone:this.ComponentsSaved.SkinToneVariation})},onHoverInput:function(e){this.focusedInputIndex=e;var t=this.gMenuSelected[this.focusedMenuIndex].inputs;this.subTitleInputSelected=t[this.focusedInputIndex].subTitle},updateComponentToPed:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,n,s,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="heads"===e.t0?3:"hair"===e.t0?7:"teeth"===e.t0?10:"mustache"===e.t0?13:"hair-color"===e.t0?16:"mustache-color"===e.t0?21:"BODIES_UPPER"===e.t0?26:"skin_tone"===e.t0?28:"eyes"===e.t0?33:36;break;case 3:return this.ComponentsSaved.Head=n,s=this.ComponentsSaved.SkinToneVariation,this.updateOverlayToPed("heads",0,0),e.abrupt("break",36);case 7:return this.ComponentsSaved.Hair=n,s=this.ComponentsSaved.HairColor-1,e.abrupt("break",36);case 10:return s=n,n=1,e.abrupt("break",36);case 13:return this.ComponentsSaved.Mushtache=n,s=this.ComponentsSaved.MustacheColor-1,e.abrupt("break",36);case 16:return this.ComponentsSaved.HairColor=n,t="hair",n=this.ComponentsSaved.Hair,s=this.ComponentsSaved.HairColor-1,e.abrupt("break",36);case 21:return this.ComponentsSaved.MustacheColor=n,t="mustache",n=this.ComponentsSaved.Mushtache,s=this.ComponentsSaved.MustacheColor-1,e.abrupt("break",36);case 26:return s=this.ComponentsSaved.SkinToneVariation,e.abrupt("break",36);case 28:return this.ComponentsSaved.SkinToneVariation=n,d.send("https://frp_creator/state:Customization:ComponentTypeSelected",{compType:"heads",offsetModel:this.ComponentsSaved.Head,offsetVariation:this.ComponentsSaved.SkinToneVariation,faceFeatureIndex:a}),d.send("https://frp_creator/state:Customization:ComponentTypeSelected",{compType:"BODIES_UPPER",offsetModel:this.ComponentsSaved.SkinModel,offsetVariation:this.ComponentsSaved.SkinToneVariation,faceFeatureIndex:a}),this.updateOverlayToPed("heads",0,0),e.abrupt("break",36);case 33:return s=n,n=1,e.abrupt("break",36);case 36:d.send("https://frp_creator/state:Customization:ComponentTypeSelected",{compType:t,offsetModel:n,offsetVariation:s,faceFeatureIndex:a});case 37:case"end":return e.stop()}}),e,this)})));function t(t,n,s,a){return e.apply(this,arguments)}return t}(),clearErrors:function(){this.errors.charName=[],this.errors.date=[]},showError:function(e,t){switch(e){case"charname":this.errors.charName.push(t);break;case"date":this.errors.date.push(t);break}},validateStep:function(){return this.clearErrors(),this.Menu1[0].value.match(this.validation.usernameRegex)?this.Menu1[0].value<18||this.Menu1[0].value>98?(d.send("https://frp_creator/Notification.Simple","Idade Inválida."),!1):void(this.menuStep="Step2"):(d.send("https://frp_creator/Notification.Simple","O nome do personagem não é válido"),this.errors.charName.push(),!1)},changeoptions:function(e){"name"==e.target.id&&(this.Menu1[0].value=e.target.value),"age"==e.target.id&&(this.Menu1[1].value=e.target.value)},SelectStep:function(e){"Step1"===this.menuStep&&this.validateStep()&&0==this.Clicked&&(this.Clicked=1),this.menuStep=e},ButtonClose:function(){d.send("https://frp_creator/CharacterCreation.Cancel")},ButtonDone:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[1];d.send("https://frp_creator/CharacterCreation.Done",{age:t,overlayArray:this.ComponentsSaved.Overlay})}},beforeDestroy:function(){window.removeEventListener("keydown",this.selectMenu)}},p=l,h=(n("4ec1"),n("2877")),f=Object(h["a"])(p,i,r,!1,null,null,null),v=f.exports,m={name:"app",components:{CharacterCreation:v},data:function(){return{}},destroyed:function(){window.removeEventListener("message",this.listener)},mounted:function(){var e=this;this.listener=window.addEventListener("message",(function(t){var n=t.data||t.detail;e[n.type]&&e[n.type](n)}),!1)},methods:{}},b=m,C=(n("5c0b"),Object(h["a"])(b,a,o,!1,null,null,null)),S=C.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(S)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("b6f1")},b6f1:function(e,t,n){},cb52:function(e,t,n){}});
//# sourceMappingURL=app.fd621bb2.js.map